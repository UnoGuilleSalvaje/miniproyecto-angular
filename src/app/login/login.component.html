<body>
  <div class="container" style="margin-top: 220px; margin-bottom: 100px;">
    <h1>Iniciar sesión</h1>
    
    <form [formGroup]="formLogin" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="email">Correo electrónico:</label>
        <input type="email" formControlName="email" id="email" class="form-control">
      </div>
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input type="password" formControlName="password" id="password" class="form-control">
      </div>
      <button type="submit" class="btn btn-primary">Iniciar sesión</button>
    </form>
  
    <hr>
  
    <!-- Botón para alternar la visibilidad de la autenticación por teléfono -->
    <button class="btn btn-secondary" (click)="togglePhoneLogin()">
      <img src="https://cdn.icon-icons.com/icons2/1474/PNG/512/icons8authentication_101568.png" width="30px" alt="" style="filter: invert(1);">

      {{ showPhoneLogin() ? 'Ocultar autenticación por SMS' : 'Autenticación por SMS' }}
    </button>
  
    <!-- Botón Recaptcha siempre presente pero oculto -->
    <div id="sign-in-button" style="display: none;"></div>
  
    <!-- Sección de autenticación por teléfono usando @if -->
    @if (showPhoneLogin()) {
      <div class="mt-3">
        <h2>Iniciar sesión con el número de teléfono</h2>
        <form [formGroup]="formLogin">
          <div class="form-group">
            <label for="phone">Número de teléfono:</label>
            <div class="input-group">
              <input type="tel" formControlName="phoneNumber" id="phone" class="form-control">
              <div class="input-group-prepend">
                <button class="btn btn-info input-group-text" style="display: block; margin: 0 auto;" type="button" (click)="onClick()">
                  <i class="fas fa-phone"></i>&nbsp; Enviar SMS con un código
                </button>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="otp">Código de verificación:</label>
            <input type="text" formControlName="otp" id="otp" class="form-control">
          </div>
          <button class="btn btn-info" type="button" (click)="onVerifyOTP()">Verificar código</button>
          
        </form>
      </div>
    }
  </div>
  
</body>